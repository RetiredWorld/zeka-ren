---
date: 2021-04-21
title: 关于联想笔记本安装 Linux 无法识别磁盘问题的解释
tags:
  - Linux
---
> 随着 Linux 驱动的更新，信息可能会过时。
> 使用型号为联想 Y9000X（2020），16G 4K 版本。
> 参考的解释，可以看 [知乎上的回答](https://www.zhihu.com/question/437595318)。

在最开始的时候，不论是 Ubuntu 还是 Arch，在进入启动盘后，都无法发现磁盘。当时作为萌新自然是不懂的，看着网上的教程将 raid 模式改为 ahci 模式就解决了。

现在重新回顾这个问题，发现原因很简单，那就是 Linux 缺少 raid 驱动。当然随着 Linux 内核版本的更新，驱动问题也许会解决，这样就不会有这个问题了。

没错，这里的 raid 就是多盘组合的那个 raid，ahci 则是另一种协议。虽然都是 nvme 的固态磁盘，但是要读取到数据，还是得知道如何加载内容，最简单例子 raid1 两块盘不能等同用，虽然通过 nvme 可以读取块的数据，但是具体如何组织还是得查看更上层协议（个人理解）。

系统要读取到内容就少不了驱动，这与英特尔的 rst（raid 控制器） 技术有关。众所周知，厂商乐于给 Win 做适配，乐于给 Apple 做适配，但是很少关注 Linux 用户，所以驱动适配往往无法跟上，所以导致了缺少驱动。

事实上，查看 rst [支持列表](https://www.intel.com/content/www/us/en/support/articles/000005769/technologies.html)，压根没有出现 Linux 几个字。

所以问题很明白了，除非 Intel 对 Linux 积极适配了，要么有 dalao 提交了自己的驱动，否则我们都是无法驱动这块磁盘的。

那么问题就很明白了，我们数据都在一个磁盘上，照着网上教程将磁盘格式修改为 ahci 就能在不影响 Windows 的情况下按照完成了。

对于我们的本子，这没有问题。但是对于部分高端笔记本使用了双固态组 raid（有点害怕），要修改格式恐怕只能格式化了。

那么问题来了，既然只有一块磁盘，而绝大多数笔记本都不会组 raid，为何要默认开启 raid 呢？在上面的知乎回答似乎提是厂商与某牙膏厂 py 的结果，[这篇文章](https://www.jianshu.com/p/801fbc9d45bf) 甚至提到了因为 rst 导致硬盘本身的管理系统失效，甚至出错等问题。

所以对于咱们这个本子来说，将格式从 raid 修改为 ahci 是没问题的（在正确操作下），这也解释了为什么 Linux 无法识别到我们的固态。

